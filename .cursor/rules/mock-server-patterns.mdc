# Mock Server Development Patterns

## Route Matching Logic

Reference the route matching implementation in [src/server.ts](mdc:src/server.ts):

### Path Parameter Handling

- Use `{paramName}` format to define path parameters
- Support dynamic parameter matching and extraction
- Path parameters only allow letters, numbers, hyphens, and underscores

### Mock File Naming Conventions

- Format: `{description}-{statusCode}.json`
- Examples: `successful-operation-200.json`, `pet-not-found-404.json`
- Default file: `success-200.json`

## Mock Data Structure

Each mock file should contain:

```json
{
  "header": [{ "key": "Content-Type", "value": "application/json" }],
  "body": {
    /* response data */
  }
}
```

## Mock Generator Patterns

Reference [src/mock-generator.ts](mdc:src/mock-generator.ts):

### Schema Parsing

- Prioritize `example` fields
- Recursively process `$ref` references
- Generate appropriate mock values based on data types

### File Organization

- Create directory structure based on API paths
- One subdirectory for each HTTP method
- Support nested path parameters

## CLI Tool Usage

Reference [src/cli/generate-mock.ts](mdc:src/cli/generate-mock.ts):

```bash
ts-node src/cli/generate-mock.ts -s demo/swagger.yaml -o mock/
```

## Extension Suggestions

- Support query parameter matching
- Add request body validation
- Implement mock data templating
- Support environment variable configuration
  description: Mock server development patterns and best practices
  globs: ["src/**/*.ts", "mock/**/*"]
  alwaysApply: false

---
description:
globs:
alwaysApply: false
---
